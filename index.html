<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>React 18 features</title><meta property="og:title" content="React 18 features"><meta property="og:type" content="article"><meta property="og:url" content="https://egor-xyz.github.io/p-react-18"><meta property="og:image" content="https://egor-xyz.github.io/p-react-18/thumbnail.png"><meta property="og:site_name" content="React 18"><script defer="defer" src="/p-react-18/runtime.83aa6861cff966ee3454.bundle.js"></script><script defer="defer" src="/p-react-18/vendor.db65d334dc6a71a4bb03.bundle.js"></script><script defer="defer" src="/p-react-18/main.96ff910af07d5fd28e57.bundle.js"></script><link href="/p-react-18/vendor.db65d334dc6a71a4bb03.css" rel="stylesheet"><link href="/p-react-18/main.96ff910af07d5fd28e57.css" rel="stylesheet"><link rel="stylesheet" type="text/css" href="/p-react-18/819.7e06c0327f7b3bbeeab1.css"><link rel="prefetch" as="script" href="/p-react-18/901.0610024ec866ebb3f82e.bundle.js"><link rel="prefetch" as="script" href="/p-react-18/921.61393086a22508054a83.bundle.js"><style data-styled="active" data-styled-version="5.3.3"></style></head><body><div id="root"><div class="swiper-container swiper-container-cube swiper-container-3d swiper-container-initialized swiper-container-horizontal swiper-container-pointer-events" id="main-slides"><div class="swiper-pagination"></div><div class="swiper-wrapper" id="swiper-wrapper-d0e0225114101e79c" aria-live="polite" style="transform-origin: 50% 50% -592px; transform: translate3d(0px, 0px, 0px) rotateX(0deg) rotateY(-989.392deg);"><div class="swiper-slide swiper-slide-active title" data-hash="slide-1" role="group" aria-label="1 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(0deg) translate3d(0px, 0px, 0px);"><div class="slide-internal-box"><h1>New in ⚡️ React 18 ⚡️</h1></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide swiper-slide-next title" data-hash="slide-2" role="group" aria-label="2 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(90deg) translate3d(0px, 0px, 0px);"><div class="slide-internal-box"><h2>The New Root API</h2><h3>React 17</h3><pre class="  language-ts" tabindex="0"><code class="  language-ts">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3>React 18</h3><pre class="  language-ts" tabindex="0"><code class="  language-ts"><span class="token keyword">const</span> root <span class="token operator">=</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide title" data-hash="slide-3" role="group" aria-label="3 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(180deg) translate3d(1184px, 0px, 1184px);"><div class="slide-internal-box"><h2>Automatic Batching</h2><pre class="  language-ts" tabindex="0"><code class="  language-ts"> <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// React 18 and later DOES batch these</span>

    <span class="token function">setCount</span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> c <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setFlag</span><span class="token punctuation">(</span>f <span class="token operator">=&gt;</span> <span class="token operator">!</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// React will only re-render once at the end (that's batching!)</span>
 <span class="token punctuation">}</span>
</code></pre></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide title" data-hash="slide-4" role="group" aria-label="4 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(270deg) translate3d(-1184px, 0px, 3552px);"><div class="slide-internal-box"><h2>startTransition API</h2><h3>React 17</h3><pre class="  language-ts" tabindex="0"><code class="  language-ts"><span class="token function">setText</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3>React 18</h3><pre class="  language-ts" tabindex="0"><code class="  language-ts"><span class="token function">startTransition</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setText</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide title" data-hash="slide-5" role="group" aria-label="5 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(360deg) translate3d(-4736px, 0px, 0px);"><div class="slide-internal-box"><h2>useDeferredValue</h2><p>Goodbye lodash debounce ❤️</p><p>Returns a deferred version of the value that may “lag behind”</p><p>it for at most timeoutMs.</p><pre class="  language-ts" tabindex="0"><code class="  language-ts"><span class="token keyword">const</span> deferredValue <span class="token operator">=</span> <span class="token function">useDeferredValue</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">{</span> timeoutMs<span class="token operator">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide title" data-hash="slide-6" role="group" aria-label="6 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(450deg) translate3d(0px, 0px, -4736px);"><div class="slide-internal-box"><h1>All ES2022 features in one slide</h1></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide title" data-hash="slide-7" role="group" aria-label="7 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(540deg) translate3d(5920px, 0px, 1184px);"><div class="slide-internal-box"><h2>Top-level await</h2><pre class="  language-js" tabindex="0"><code class="  language-js"><span class="token comment">// app.js</span>
<span class="token keyword">let</span> jQuery<span class="token punctuation">;</span> <span class="token comment">// one love :-)</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  jQuery <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'https://cdn-a.com/jQuery'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide title" data-hash="slide-8" role="group" aria-label="8 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(630deg) translate3d(-1184px, 0px, 8288px);"><div class="slide-internal-box"><h2>at() - new way to work with arrays</h2><pre class="  language-js" tabindex="0"><code class="  language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// same -&gt; 10</span>
arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// same -&gt; 40</span>
arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Clear code !</span>
</code></pre></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide title" data-hash="slide-9" role="group" aria-label="9 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(720deg) translate3d(-9472px, 0px, 0px);"><div class="slide-internal-box"><h2>Object.hasOwn()</h2><pre class="  language-js" tabindex="0"><code class="  language-js"><span class="token keyword">const</span> student <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Mark'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>student<span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>student<span class="token punctuation">,</span><span class="token string">'grade'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide title" data-hash="slide-10" role="group" aria-label="10 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(810deg) translate3d(0px, 0px, -9472px);"><div class="slide-internal-box"><h3>Class Fields / <strong>#</strong> - private fields</h3><pre class="  language-js" tabindex="0"><code class="  language-js"><span class="token keyword">class</span> <span class="token class-name">ButtonToggle</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  color <span class="token operator">=</span> <span class="token string">'green'</span><span class="token punctuation">;</span>
  #value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>#value <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>#value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3>Private methods and getter/setters for JavaScript classes</h3><pre class="  language-js" tabindex="0"><code class="  language-js"><span class="token keyword">class</span> <span class="token class-name">ButtonToggle</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  color <span class="token operator">=</span> <span class="token string">'green'</span>
  #value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token function">#toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>#value <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>#value
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">#setFalseValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>#value <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide title" data-hash="slide-11" role="group" aria-label="11 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(900deg) translate3d(10656px, 0px, 1184px);"><div class="slide-internal-box"><h3>Class Static Block</h3><pre class="  language-js" tabindex="0"><code class="  language-js"><span class="token comment">// method defined outside of the class body</span>
<span class="token keyword">let</span> initVal<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">ButtonToggle</span><span class="token punctuation">{</span>
  #value <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">get</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>#value<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'no value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#value
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">initVal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// Ex: get data from API</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>#value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>getValue<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">initVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-slide" data-hash="slide-12" role="group" aria-label="12 / 12" style="width: 1184px; transform: rotateX(0deg) rotateY(990deg) translate3d(-1184px, 0px, 13024px);"><div class="slide-internal-box"><h2 class="sc-bdvvtL hYSFhl">Hello from jsx!!</h2></div><div class="swiper-slide-shadow-left" style="opacity: 0.00675676;"></div><div class="swiper-slide-shadow-right" style="opacity: 0;"></div></div><div class="swiper-cube-shadow" style="height: 1184px; transform: translate3d(0px, 612px, -592px) rotateX(90deg) rotateZ(0deg) scale(0.94);"></div></div><span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div></div></body></html>